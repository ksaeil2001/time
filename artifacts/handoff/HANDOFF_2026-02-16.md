# HANDOFF

> Document Role: 검증 실행 결과 인수인계 문서(정본 스펙 아님)
> Canonical Specs: [PRD_MVP_v1.0.md](../PRD_MVP_v1.0.md), [DESIGN_GUIDE_MVP_v1.0.md](../DESIGN_GUIDE_MVP_v1.0.md), [USE_CASE_MVP_v1.0.md](../USE_CASE_MVP_v1.0.md), [IA_MVP_v1.0.md](../IA_MVP_v1.0.md)

## 1) 작업 개요
- 작업명: Step 3 문서 싱크 + 검증/QA 자동화 + 이력 가독성 회귀 정리
- 작업자: Codex (GPT-5)
- 날짜: 2026-02-16
- 대상 브랜치: `main`
- 기준 커밋(base): `db40591a92cad326c07b2a82a2cc71ac10aace9d`
- 결과 커밋(head): 미커밋 작업 트리 (`HEAD=db40591a92cad326c07b2a82a2cc71ac10aace9d`)

## 2) 변경 파일
- 문서:
  - `docs/DESIGN_GUIDE_MVP_v1.0.md`
  - `docs/IA_MVP_v1.0.md`
  - `docs/PRD_MVP_v1.0.md`
  - `docs/USE_CASE_MVP_v1.0.md`
  - `docs/verification/VERIFICATION_PROTOCOL.md`
  - `docs/verification/UI_QA_CHECKLIST.md`
  - `docs/verification/DOC_SYNC_GAP_CHECKLIST.md`
  - `docs/handoff/HANDOFF.md`
  - `docs/handoff/handoff-manifest.schema.json`
  - `docs/handoff/handoff-manifest.json`
  - `docs/handoff/preflight.json`
  - `docs/handoff/verify-commands.json`
- 코드/테스트:
  - `src/App.tsx`
  - `e2e/a11y-flow.e2e.ts`
- 스크립트/자동화:
  - `scripts/verify/preflight.mjs`
  - `scripts/verify/run-verify.mjs`
  - `scripts/handoff/generate-manifest.mjs`
  - `package.json`

## 3) 문서 동기화 요약
- 용어 정리: 사용자 라벨은 `예약`, 내부 라우트는 `/schedule/*`로 병기.
- 화면 동기화: 대시보드/새 예약/활성 예약/이력/일반 설정/알림 설정/Google 연동/도움말 8개 화면을 코드 기준으로 재기술.
- 이벤트 카드 표준: 제목행(상태+한 문장), 메타칩(절대/상대/출처/모드), 우측 중복 제거, tabular 숫자 규칙 명시.

## 4) 검증 결과
- 실행 명령:
  - `npm run verify`
  - `cargo test --manifest-path src-tauri/Cargo.toml`
- 결과:
  - `npm run verify`: pass
  - `cargo test`: pass (18 passed, 0 failed)
  - 경고: preflight `git_dirty=warn` (작업 중 변경 파일 존재)
- 산출물:
  - `docs/handoff/handoff-manifest.json`
  - `docs/handoff/preflight.json`
  - `docs/handoff/verify-commands.json`

## 5) QA 체크 (Step 3)
- [x] Dashboard/History 이벤트 카드 스캔성 확인
- [x] Arm 확인 모달/명시 동의 확인
- [x] OS 알림 차단 시 배너/폴백 확인
- [x] Final Grace 60초 개입 경로(UI/알림 메시지/트레이) 확인

근거:
- 이벤트 카드 중복 제거: `src/App.tsx`의 `sanitizeEventReason`, `buildEventMetaChips`, History/Dashboard 매핑 반영.
- Arm 확인: `예약 준비` -> 확인 모달 -> `예약 활성화` 흐름 e2e 통과.
- 알림 차단 폴백: `/settings/notifications` 차단 배너 + `알림 설정 열기` CTA 코드 경로 확인.
- Final Grace 개입: UI 오버레이 액션 + Rust 트레이 취소/미루기 경로 및 관련 테스트 통과.

## 6) 잔여 이슈 / 불명확
- 상태: 없음
- 메모: OS 권한 토글(시스템 설정 레벨) 수동 E2E는 별도 환경에서 추가 점검 권장.

## 7) 다음 작업 제안
1. CI에서 `npm run verify` 아티팩트(`handoff-manifest.json`)를 필수 업로드로 고정.
2. 네이티브 알림 권한 차단/복구를 포함한 Tauri 실기기 회귀 시나리오를 주기 실행.
